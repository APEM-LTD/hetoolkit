<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • hetoolkit</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">hetoolkit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/CaseStudy1.html">HE Toolkit Case Study: macroinvertebrates in chalk streams</a>
    <a class="dropdown-item" href="../articles/CaseStudy2.html">HE Toolkit Case Study: macroinvertebrates in upland rivers</a>
    <a class="dropdown-item" href="../articles/hetoolkit-vignette.html">hetoolkit-Vignette</a>
    <a class="dropdown-item" href="../articles/Resources.html">Resources</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.1" id="hetoolkit-211">hetoolkit 2.1.1<a class="anchor" aria-label="anchor" href="#hetoolkit-211"></a></h2>
<div class="section level3">
<h3 id="changes-to-functions-2-1-1">Changes to Functions<a class="anchor" aria-label="anchor" href="#changes-to-functions-2-1-1"></a></h3>
<ul><li>
<code>predict_indices</code>: Minor update to account for changes in <code><a href="https://aquametrics.github.io/rict/reference/rict_predict.html" class="external-link">rict::rict_predict</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="hetoolkit-210">hetoolkit 2.1.0<a class="anchor" aria-label="anchor" href="#hetoolkit-210"></a></h2>
<div class="section level3">
<h3 id="new-functions-2-1-0">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-2-1-0"></a></h3>
<ul><li>
<code>import_wq</code>: for importing water quality data from the EA Water Quality Archive database.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-functions-2-1-0">Changes to functions<a class="anchor" aria-label="anchor" href="#changes-to-functions-2-1-0"></a></h3>
<ul><li>
<code>import_rhs</code>: deprecated rhs_dir argument, use source instead. Function now returns an object, even when no surveys are specified for filtering.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-0"></a></h3>
<ul><li>
<code>calc_flowstats</code>: Corrections to calculations for long-term statistics, including adding mean, min and max flows.</li>
<li>
<code>import_inv</code>: Fix to resolve error if importing a formatted rds file.<br></li>
<li>
<code>import_env</code>: Removed tictoc call.</li>
<li>
<code>import_rhs</code>: Removed tictoc call.</li>
<li>
<code>import_hde</code> updated following updates to the HDE.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="hetoolkit-200">hetoolkit 2.0.0<a class="anchor" aria-label="anchor" href="#hetoolkit-200"></a></h2>
<div class="section level3">
<h3 id="new-functions-2-0-0">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-2-0-0"></a></h3>
<ul><li>
<code>impute_flow</code>: for infilling missing records in daily flow time series for one or more sites (gauging stations) using either an interpolation or an equipercentile method.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-functions-2-0-0">Changes to functions<a class="anchor" aria-label="anchor" href="#changes-to-functions-2-0-0"></a></h3>
<ul><li>
<code>import_hde</code>: Temporary .csv files downloaded are now deleted afterwards.</li>
<li>
<code>import_inv</code>: Now includes an option to download macroinvertebrate data from Ecology and Fish Data Explorer in .parquet format, which is faster than .csv and has data types pre-formatted. This is the new default, replacing the old .csv file download. New argument <code>source</code> added, with options to automatically download data from EDE in .parquet or .csv format, or read in a previously saved .csv, .rds or .parquet file. The old <code>biol_dir</code> argument for specifying a local file is deprecated, but retained for backwards compatibility.</li>
<li>
<code>predict_indices</code>: updated to utilise the <code>rict_predict</code> function from the <code>rict</code> package (<a href="https://github.com/aquaMetrics/rict" class="external-link uri">https://github.com/aquaMetrics/rict</a>), thereby eliminating the risk of divergence between the <code>hetoolkit</code> and <code>rict</code> packages. The former function has been re-named to <code>predict_indices_old</code> for backwards compatibility.</li>
<li>
<code>calc_flowstats</code>: Completely re-written to provide much greater flexibility for characterising antecedent flows. Rather than use fixed, 6-month winter and summer periods, the new function uses a user-defined moving window, and calculates a wider range of flow statistics (include statistics to quantify the timing, frequency and severity of high flow, low flow and dry events, as well as the timing and magnitude of maximum and minimum flows). If the required minimum number of records is not met, then NAs are returned. The long-term flow statistics are now all annual statistics (separate winter and summer statistics have been dropped). The former function has been re-named to <code>calc_flowstats_old</code> for backwards compatibility.</li>
<li>
<code>join_he</code>: Completely re-written to provide much greater flexibility when joining flow and biology data. It is now possible to: (i) join biology data to flow statistics (as well as join flow statistics to biology samples), (ii) join flow statistics that have been calculated by <code>calc_flowstats</code> for any moving window (not just fixed 6-month winter and summer periods), and (ii) join flows for any lagged time period (not just the summer period of the previous year and the year before last). The former function has been re-named to <code>join_he_old</code> for backwards compatibility.</li>
<li>
<code>model_cv</code> and <code>model_logocv</code>: modified to support model class “lmerTest” (from lmerTest::lmer), in addition to “lmerMod” (from lme4::lmer) and “gam” (from mgcv::gam).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-0-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-0"></a></h3>
<ul><li>
<code>plot_rngflows</code>: Fixed issue to prevent error when z variable is unspecified.</li>
<li>
<code>plot_sitepcs</code>: fixed issue to show labels when <code>plotly = TRUE</code>.</li>
<li>
<code>predict_indices</code>: Removed deprecated function.</li>
<li>
<code>impute_flows</code>: Check added to correct warning message appearance when donor sites specified.</li>
<li>
<code>calc_flowstats</code>: Updated to deal with non-consecutive flow samples</li>
</ul></div>
<div class="section level3">
<h3 id="general-2-0-0">General<a class="anchor" aria-label="anchor" href="#general-2-0-0"></a></h3>
<ul><li>Vignette updated to include new functions and reflect other changes.</li>
<li>Created new support pages with guidance on installing and using the hetoolkit.<br></li>
<li>Updated and rationalised the list of external package dependencies to speed up installation.<br></li>
<li>Various improvements and updates to function documentation and worked examples.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by APEM-Ltd.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

